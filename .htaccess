RewriteEngine On

# 1. Forzar HTTPS (Seguridad)
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# 2. Quitar extensi칩n .html de la URL (Redirecci칩n Externa)
# Si el usuario escribe "pagina.html", lo redirige a "pagina"
RewriteCond %{THE_REQUEST} /([^.]+)\.html [NC]
RewriteRule ^ /%1 [L,R=301]

# 3. Mapear URL limpia a archivo .html (Redirecci칩n Interna)
# Si el usuario pide "pagina", el servidor busca "pagina.html"
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]

# 4. Proteger archivos sensibles
<FilesMatch "\.(csv|log|txt|php|json)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>
# Excepciones
<FilesMatch "(index\.html|robots\.txt|sitemap\.xml|manifest\.json|contact\.php|cookies\.php)$">
    Order Allow,Deny
    Allow from all
</FilesMatch>

# 5. P치ginas de Error personalizadas
ErrorDocument 404 /404

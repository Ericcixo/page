<!doctype html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"/>
  <title>Â¡Gracias por tu compra! | RevendeFÃ¡cil</title>
  <meta name="robots" content="noindex"> <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700;800&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="assets/css/styles.css?v=final"/>
  <link rel="icon" href="img/logo.svg"/>
</head>
<body>
  
  <div class="ambient-glows">
    <div class="glow glow-1"></div>
    <div class="glow glow-2"></div>
    <div class="glow glow-3"></div>
  </div>

  <header class="header">
    <div class="header-inner">
      <a href="/" class="social-link" style="width:auto; height:auto; background:none; border:none; color:white; font-weight:700; text-decoration:none;">â† Volver al Inicio</a>
      <div class="brand" style="font-family: var(--font-head); font-weight:800; font-size:20px;">RevendeFÃ¡cil</div>
    </div>
  </header>

  <main class="container">
    <section class="section" style="padding-top: 40px;">
      <div class="reveal" style="text-align:center; max-width:700px; margin:0 auto;">
        <div style="font-size:60px; margin-bottom:20px;">ğŸ‰</div>
        <h1 class="h1-premium">Â¡Pedido <span class="gradient-text">Confirmado!</span></h1>
        <p class="subtitle" id="orderMsg">Gracias por confiar en nosotros. AquÃ­ tienes tus productos listos para descargar.</p>
      </div>

      <div id="downloadsArea" class="grid reveal" style="margin-top: 50px;">
        </div>

      <div class="glass-panel reveal" style="margin-top: 60px; text-align: center; max-width: 600px; margin-left: auto; margin-right: auto;">
        <h3 style="margin-top:0; font-family:var(--font-head)">Â¿Problemas con la descarga?</h3>
        <p style="color:var(--text-muted); margin-bottom:20px">Has recibido tambiÃ©n una copia de los enlaces en tu correo electrÃ³nico. Revisa tu carpeta de Spam.</p>
        <a href="contact" class="btn-ghost">Contactar Soporte</a>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner container">
      <div class="brand">RevendeFÃ¡cil Â© 2025</div>
      <div class="links">
        <a href="/">Inicio</a>
        <a href="terms">TÃ©rminos</a>
        <a href="contact">Soporte</a>
      </div>
    </div>
  </footer>

  <script>
    (function(){
      // 1. Efecto Parallax Fondo
      document.addEventListener('mousemove', function(e) {
        const x = e.clientX / window.innerWidth;
        const y = e.clientY / window.innerHeight;
        const g1 = document.querySelector('.glow-1');
        const g2 = document.querySelector('.glow-2');
        if(g1) g1.style.transform = `translate(${x*30}px, ${y*30}px)`;
        if(g2) g2.style.transform = `translate(-${x*40}px, -${y*40}px)`;
      });

      // 2. Recuperar carrito antes de borrarlo (para saber quÃ© mostrar)
      const rawCart = localStorage.getItem('rf_cart');
      const cart = rawCart ? JSON.parse(rawCart) : {providers:[], courses:[]};
      
      // Si no hay nada (acceso directo), mostrar mensaje
      if((!cart.providers || cart.providers.length === 0) && (!cart.courses || cart.courses.length === 0)){
         document.getElementById('orderMsg').textContent = 'No hemos detectado una compra reciente en este navegador. Revisa tu email.';
      }

      const area = document.getElementById('downloadsArea');
      let html = '';

      // Mapa de archivos (AsegÃºrate de que los nombres coinciden con tu carpeta /downloads)
      const fileMap = {
        'p1': { name: 'Prov. Zapatillas', file: 'proveedor-1.pdf', icon: 'ğŸ‘Ÿ' },
        'p2': { name: 'Prov. Vapers', file: 'proveedor-2.pdf', icon: 'ğŸ’¨' },
        'p3': { name: 'Prov. Relojes', file: 'proveedor-3.pdf', icon: 'âŒš' },
        'p4': { name: 'Prov. Colonias', file: 'proveedor-4.pdf', icon: 'âœ¨' },
        'c1': { name: 'Curso Lujo', file: 'curso-lujo-vinted.pdf', icon: 'ğŸ’' },
        'c2': { name: 'Curso Seguridad', file: 'curso-seguridad-vinted.pdf', icon: 'ğŸ”’' },
        'c3': { name: 'Curso Anuncios', file: 'curso-anuncios-vinted.pdf', icon: 'ğŸ“¢' }
      };

      // Generar HTML Proveedores
      if(cart.providers) {
        cart.providers.forEach(id => {
          const item = fileMap[id];
          if(item) {
            html += createCard(item);
          }
        });
      }

      // Generar HTML Cursos
      if(cart.courses) {
        cart.courses.forEach(c => {
          const item = fileMap[c.id];
          if(item) {
            html += createCard(item);
          }
        });
      }

      function createCard(item){
        return `
        <div class="glass-card" style="align-items:center; text-align:center; padding:30px;">
          <div class="glow-border"></div>
          <div style="font-size:40px; margin-bottom:16px;">${item.icon}</div>
          <h3 style="margin:0 0 8px 0; font-family:var(--font-head)">${item.name}</h3>
          <p style="color:var(--text-muted); font-size:13px; margin-bottom:20px;">Formato PDF â€¢ Descarga Segura</p>
          <a href="downloads/${item.file}" download class="btn-glow" style="width:100%; text-decoration:none;">Descargar Ahora â†“</a>
        </div>
        `;
      }

      if(html) area.innerHTML = html;

      // 3. Limpiar carrito despuÃ©s de procesar
      localStorage.removeItem('rf_cart');
      
      // AnimaciÃ³n de entrada
      setTimeout(() => {
        document.querySelectorAll('.reveal').forEach(el => el.classList.add('visible'));
      }, 100);

    })();
  </script>
</body>
</html>
